/*
* PHONONIC END-USER SOFTWARE LICENSE AGREEMENT
*
* LICENSE GRANT.  Phononic grants to the Customer (and/or it's agents), free of charge, the
* non-exclusive, non-transferable, non-sublicensable right (1) to use the Software, (2)
* to reproduce the Software, (3) to prepare derivative works of the Software, and (4)
* to distribute the Software and derivative works thereof in object (machine-readable)
* form as part of a programmable processing unit (e.g. a microcontroller) to be used in
* the exclusive support of thermoelectric device(s), heat pump or cooling system as supplied
* directly or indirectly from Phononic ("Phononic System").
*
* COPYRIGHT.  The Software is licensed to the Customer, not sold.  Phononic owns the Software,
* and United States copyright laws and international treaty provisions protect the Software.
* Therefore, the Customer must treat the Software like any other copyrighted material
* (e.g. a book or musical recording).  The Customer may not use or copy the Software for any
* other purpose than what is described in the Agreement.  Except as expressly provided herein,
* Phononic does not grant to the Customer any express or implied rights under any Phononic or
* third party patents, copyrights, trademarks, or trade secrets.  Additionally, the Customer
* must reproduce and apply any copyright or other proprietary rights notices included on
* or embedded in the Software to any copies made thereof, in whole or in part, if any.
* the Customer may not remove any copyright notices of Phononic incorporated in the Software.
*/

/************************************************************************/
/* Includes                                                             */
/************************************************************************/
#include "app.h"

/************************************************************************/
/* Lookup Tables                                                        */
/************************************************************************/

// 11000	R22
// 210000	R11, R14
// 100000	R428
// 11000	R22
// 315000	R11, R14
// 82000	R431

const uint16_t ps_reg1_boost_pwm_lookup_table[PS_BOOST_PWM_LOOKUP_TABLE_SIZE] = {
61558,     // index 0 is 11.5V
56435,     // index 1 is 12V
52513,     // index 2 is 12.5V
47691,     // index 3 is 13V
42568,     // index 4 is 13.5V
38446,     // index 5 is 14V
33323,     // index 6 is 14.5V
28201,     // index 7 is 15V
24079,     // index 8 is 15.5V
18956,     // index 9 is 16V
13934,     // index 10 is 16.5V
9012,     // index 11 is 17V
};

const uint16_t ps_reg2_boost_pwm_lookup_table[PS_BOOST_PWM_LOOKUP_TABLE_SIZE] = {
57586,     // index 0 is 15.8V
55252,     // index 1 is 16.2V
53118,     // index 2 is 16.6V
50985,     // index 3 is 17V
48851,     // index 4 is 17.4V
46917,     // index 5 is 17.8V
44784,     // index 6 is 18.3V
42450,     // index 7 is 18.7V
40616,     // index 8 is 19.1V
38284,     // index 9 is 19.5V
22733,     // index 10 is 22.5V
6681,     // index 11 is 25.5V
};

const uint16_t ps_boost_pwm_lookup_table[PS_BOOST_PWM_LOOKUP_TABLE_SIZE] = {

#ifdef HIGH_PERFORMANCE		// Boost Scaling R203=1.8K, R206+R205=77K, R105=5.6K
63613,     // index  is 48V
62169,     // index  is 49V
60725,     // index  is 50V
59280,     // index 0 is 51V
57836,     // index 1 is 52V
56392,     // index 2 is 53V
54947,     // index 3 is 54V
53503,     // index 7 is 55V
52059,     // index 8 is 56V
50615,     // index 9 is 57V
49170,     // index 10 is 58V
47726,     // index 11 is 59V
46282,     // index 12 is 60V
44837,     // index 13 is 61V
43393,     // index 14 is 62V
41949,     // index 15 is 63V
40505,     // index 16 is 64V
39060,     // index 17 is 65V
37616,     // index 18 is 66V
36172,     // index 19 is 67V
34727,     // index 20 is 68V
33283,     // index 21 is 69V
31839,     // index 22 is 70V
30394,     // index 23 is 71V
28950,     // index 24 is 72V
27506,     // index 25 is 73V
26062,     // index 26 is 74V
24617,     // index 27 is 75V
23173,     // index 28 is 76V
21729,     // index 29 is 77V
20284,     // index 30 is 78V
18840,     // index 31 is 79V
17396,     // index 32 is 80V
15951,     // index 33 is 81V
14507,     // index 34 is 82V
13063,     // index 35 is 83V
11619,     // index 36 is 84V
10174,     // index 37 is 85V
8730,     // index 38 is 86V
7286,     // index 39 is 87V
5841,     // index 40 is 88V
4397,     // index 41 is 89V
2953,     // index 42 is 90V
1508,     // index 43 is 91V
1,		  // index 44 is 92V
#endif

};

const uint16_t ps_bulk_pwm_lookup_table[PS_BULK_PWM_LOOKUP_TABLE_SIZE] = {
/*
0,     // index  is 51V
0,     // index 0 is 50V
678,     // index 1 is 49V
3465,     // index 2 is 48V
6252,     // index 3 is 47V
9039,     // index 4 is 46V
11826,     // index 5 is 45V
14612,     // index 6 is 44V
17399,     // index 7 is 43V
20186,     // index 8 is 42V
22973,     // index 9 is 41V
25759,     // index 10 is 40V
28546,     // index 11 is 39V
31333,     // index 12 is 38V
34120,     // index 13 is 37V
36907,     // index 14 is 36V
39693,     // index 15 is 35V
42480,     // index 16 is 34V
45267,     // index 17 is 33V
48054,     // index 18 is 32V
50841,     // index 19 is 31V
53627,     // index 20 is 30V
56414     // index 21 is 29V
*/

0,		   // index 0 is 36V
5599,      // index 1 is 35V
11985,     // index 2 is 34V
18371,     // index 3 is 33V
24757,     // index 4 is 32V
31144,     // index 5 is 31V
37530,     // index 6 is 30V
43916,     // index 7 is 29V
50302,     // index 8 is 28V
56688,     // index 9 is 27V
63074,     // index 10 is 26V
65535,     // index 11 is 25V
};

const uint8_t php1_output_duty_lookup_table[OUTPUT_DUTY_LOOKUP_TABLE_SIZE] = {

#ifdef PHP_EQUAL_POWER_SPLIT

0,     // 0V			
1,     // 1V
2,     // 2V
3,     // 3V
4,     // 4V
5,     // 5V
6,     // 6V
7,     // 7V
8,     // 8V
9,     // 9V
10,     // 10V
11,     // 11V
13,     // 12V
14,     // 13V
15,     // 14V
16,     // 15V
17,     // 16V
18,     // 17V
19,     // 18V
20,     // 19V
21,     // 20V
22,     // 21V
23,     // 22V
24,     // 23V
25,     // 24V
26,     // 25V
27,     // 26V
28,     // 27V
29,     // 28V
30,     // 29V
31,     // 30V
32,     // 31V
33,     // 32V
34,     // 33V
35,     // 34V
36,     // 35V
38,     // 36V
39,     // 37V
40,     // 38V
41,     // 39V
42,     // 40V
43,     // 41V
44,     // 42V
45,     // 43V
46,     // 44V
47,     // 45V
48,     // 46V
49,     // 47V
50,     // 48V
60,     // 49V
63,     // 50V
65,     // 51V
68,     // 52V
70,     // 53V
73,     // 54V
75,     // 55V
78,     // 56V
80,     // 57V
83,     // 58V
85,     // 59V
88,     // 60V
90,     // 61V
93,     // 62V
95,     // 63V
98,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_ENERGY_OPTIMIZATION

0,     // 0V
2,     // 1V
4,     // 2V
6,     // 3V
8,     // 4V
10,     // 5V
13,     // 6V
15,     // 7V
17,     // 8V
19,     // 9V
21,     // 10V
23,     // 11V
25,     // 12V
27,     // 13V
29,     // 14V
31,     // 15V
33,     // 16V
35,     // 17V
38,     // 18V
40,     // 19V
42,     // 20V
44,     // 21V
46,     // 22V
48,     // 23V
50,     // 24V
52,     // 25V
54,     // 26V
56,     // 27V
58,     // 28V
60,     // 29V
63,     // 30V
65,     // 31V
67,     // 32V
69,     // 33V
71,     // 34V
73,     // 35V
75,     // 36V
77,     // 37V
79,     // 38V
81,     // 39V
83,     // 40V
85,     // 41V
88,     // 42V
90,     // 43V
92,     // 44V
94,     // 45V
96,     // 46V
98,     // 47V
100,     // 48V
100,     // 49V
100,     // 50V
100,     // 51V
100,     // 52V
100,     // 53V
100,     // 54V
100,     // 55V
100,     // 56V
100,     // 57V
100,     // 58V
100,     // 59V
100,     // 60V
100,     // 61V
100,     // 62V
100,     // 63V
100,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_DEFAULT_POWER_SPLIT

0,     // 0V
2,     // 1V
4,     // 2V
6,     // 3V
8,     // 4V
10,     // 5V
13,     // 6V
15,     // 7V
17,     // 8V
19,     // 9V
21,     // 10V
23,     // 11V
25,     // 12V
27,     // 13V
29,     // 14V
31,     // 15V
33,     // 16V
35,     // 17V
38,     // 18V
40,     // 19V
42,     // 20V
44,     // 21V
46,     // 22V
48,     // 23V
50,     // 24V
52,     // 25V
54,     // 26V
56,     // 27V
58,     // 28V
60,     // 29V
63,     // 30V
65,     // 31V
67,     // 32V
69,     // 33V
71,     // 34V
73,     // 35V
75,     // 36V
77,     // 37V
79,     // 38V
81,     // 39V
83,     // 40V
85,     // 41V
88,     // 42V
90,     // 43V
92,     // 44V
94,     // 45V
96,     // 46V
98,     // 47V
100,     // 48V
100,     // 49V
100,     // 50V
100,     // 51V
100,     // 52V
100,     // 53V
100,     // 54V
100,     // 55V
100,     // 56V
100,     // 57V
100,     // 58V
100,     // 59V
100,     // 60V
100,     // 61V
100,     // 62V
100,     // 63V
100,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_ENERGY_OPTIMIZATION_2

0,     // 0V
0,     // 1V
0,     // 2V
0,     // 3V
0,     // 4V
0,     // 5V
0,     // 6V
0,     // 7V
0,     // 8V
0,     // 9V
0,     // 10V
0,     // 11V
22,     // 12V
25,     // 13V
28,     // 14V
31,     // 15V
34,     // 16V
37,     // 17V
40,     // 18V
43,     // 19V
46,     // 20V
49,     // 21V
52,     // 22V
55,     // 23V
58,     // 24V
61,     // 25V
64,     // 26V
67,     // 27V
70,     // 28V
73,     // 29V
76,     // 30V
79,     // 31V
82,     // 32V
85,     // 33V
88,     // 34V
91,     // 35V
94,     // 36V
97,     // 37V
100,     // 38V
100,     // 39V
100,     // 40V
100,     // 41V
100,     // 42V
100,     // 43V
100,     // 44V
100,     // 45V
100,     // 46V
100,     // 47V
100,     // 48V
100,     // 49V
100,     // 50V
100,     // 51V
100,     // 52V
100,     // 53V
100,     // 54V
100,     // 55V
100,     // 56V
100,     // 57V
100,     // 58V
100,     // 59V
100,     // 60V
100,     // 61V
100,     // 62V
100,     // 63V
100,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_STEEP_TUNING_TABLE

0,     // 0V
15,     // 1V
17,     // 2V
19,     // 3V
20,     // 4V
22,     // 5V
24,     // 6V
26,     // 7V
28,     // 8V
29,     // 9V
31,     // 10V
33,     // 11V
35,     // 12V
37,     // 13V
39,     // 14V
40,     // 15V
42,     // 16V
44,     // 17V
46,     // 18V
48,     // 19V
49,     // 20V
51,     // 21V
53,     // 22V
55,     // 23V
57,     // 24V
58,     // 25V
60,     // 26V
62,     // 27V
64,     // 28V
66,     // 29V
67,     // 30V
69,     // 31V
71,     // 32V
73,     // 33V
75,     // 34V
76,     // 35V
78,     // 36V
80,     // 37V
82,     // 38V
84,     // 39V
86,     // 40V
87,     // 41V
89,     // 42V
91,     // 43V
93,     // 44V
95,     // 45V
96,     // 46V
98,     // 47V
100,     // 48V
100,     // 49V
100,     // 50V
100,     // 51V
100,     // 52V
100,     // 53V
100,     // 54V
100,     // 55V
100,     // 56V
100,     // 57V
100,     // 58V
100,     // 59V
100,     // 60V
100,     // 61V
100,     // 62V
100,     // 63V
100,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_GENTLE_TUNING_TABLE

0,     // 0V
0,     // 1V
0,     // 2V
0,     // 3V
0,     // 4V
0,     // 5V
0,     // 6V
0,     // 7V
0,     // 8V
0,     // 9V
20,     // 10V
23,     // 11V
26,     // 12V
29,     // 13V
32,     // 14V
35,     // 15V
38,     // 16V
41,     // 17V
44,     // 18V
47,     // 19V
50,     // 20V
53,     // 21V
56,     // 22V
59,     // 23V
62,     // 24V
65,     // 25V
68,     // 26V
71,     // 27V
74,     // 28V
77,     // 29V
80,     // 30V
83,     // 31V
86,     // 32V
89,     // 33V
92,     // 34V
95,     // 35V
98,     // 36V
100,     // 37V
100,     // 38V
100,     // 39V
100,     // 40V
100,     // 41V
100,     // 42V
100,     // 43V
100,     // 44V
100,     // 45V
100,     // 46V
100,     // 47V
100,     // 48V
100,     // 49V
100,     // 50V
100,     // 51V
100,     // 52V
100,     // 53V
100,     // 54V
100,     // 55V
100,     // 56V
100,     // 57V
100,     // 58V
100,     // 59V
100,     // 60V
100,     // 61V
100,     // 62V
100,     // 63V
100,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_SMOOTH_TUNING_TABLE

0,     // 0V
0,     // 1V
0,     // 2V
0,     // 3V
0,     // 4V
0,     // 5V
0,     // 6V
0,     // 7V
0,     // 8V
0,     // 9V
20,     // 10V
22,     // 11V
24,     // 12V
26,     // 13V
28,     // 14V
31,     // 15V
33,     // 16V
35,     // 17V
37,     // 18V
39,     // 19V
41,     // 20V
43,     // 21V
45,     // 22V
47,     // 23V
49,     // 24V
52,     // 25V
54,     // 26V
56,     // 27V
58,     // 28V
60,     // 29V
62,     // 30V
64,     // 31V
66,     // 32V
68,     // 33V
71,     // 34V
73,     // 35V
75,     // 36V
77,     // 37V
79,     // 38V
81,     // 39V
83,     // 40V
85,     // 41V
87,     // 42V
89,     // 43V
92,     // 44V
94,     // 45V
96,     // 46V
98,     // 47V
100,     // 48V
100,     // 49V
100,     // 50V
100,     // 51V
100,     // 52V
100,     // 53V
100,     // 54V
100,     // 55V
100,     // 56V
100,     // 57V
100,     // 58V
100,     // 59V
100,     // 60V
100,     // 61V
100,     // 62V
100,     // 63V
100,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

};

const uint8_t php2_output_duty_lookup_table[OUTPUT_DUTY_LOOKUP_TABLE_SIZE] = {
	
#ifdef PHP_EQUAL_POWER_SPLIT

0,     // 0V
1,     // 1V
2,     // 2V
3,     // 3V
4,     // 4V
5,     // 5V
6,     // 6V
7,     // 7V
8,     // 8V
9,     // 9V
10,     // 10V
11,     // 11V
13,     // 12V
14,     // 13V
15,     // 14V
16,     // 15V
17,     // 16V
18,     // 17V
19,     // 18V
20,     // 19V
21,     // 20V
22,     // 21V
23,     // 22V
24,     // 23V
25,     // 24V
26,     // 25V
27,     // 26V
28,     // 27V
29,     // 28V
30,     // 29V
31,     // 30V
32,     // 31V
33,     // 32V
34,     // 33V
35,     // 34V
36,     // 35V
38,     // 36V
39,     // 37V
40,     // 38V
41,     // 39V
42,     // 40V
43,     // 41V
44,     // 42V
45,     // 43V
46,     // 44V
47,     // 45V
48,     // 46V
49,     // 47V
50,     // 48V
60,     // 49V
63,     // 50V
65,     // 51V
68,     // 52V
70,     // 53V
73,     // 54V
75,     // 55V
78,     // 56V
80,     // 57V
83,     // 58V
85,     // 59V
88,     // 60V
90,     // 61V
93,     // 62V
95,     // 63V
98,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_ENERGY_OPTIMIZATION

0,     // 0V
0,     // 1V
0,     // 2V
0,     // 3V
0,     // 4V
0,     // 5V
0,     // 6V
0,     // 7V
0,     // 8V
0,     // 9V
0,     // 10V
0,     // 11V
0,     // 12V
0,     // 13V
0,     // 14V
0,     // 15V
0,     // 16V
0,     // 17V
0,     // 18V
0,     // 19V
0,     // 20V
0,     // 21V
0,     // 22V
0,     // 23V
0,     // 24V
0,     // 25V
0,     // 26V
0,     // 27V
0,     // 28V
0,     // 29V
0,     // 30V
0,     // 31V
0,     // 32V
0,     // 33V
0,     // 34V
0,     // 35V
0,     // 36V
0,     // 37V
0,     // 38V
0,     // 39V
0,     // 40V
0,     // 41V
0,     // 42V
0,     // 43V
0,     // 44V
0,     // 45V
0,     // 46V
0,     // 47V
0,     // 48V
20,     // 49V
25,     // 50V
30,     // 51V
35,     // 52V
40,     // 53V
45,     // 54V
50,     // 55V
55,     // 56V
60,     // 57V
65,     // 58V
70,     // 59V
75,     // 60V
80,     // 61V
85,     // 62V
90,     // 63V
95,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_DEFAULT_POWER_SPLIT

0,     // 0V
0,     // 1V
0,     // 2V
0,     // 3V
0,     // 4V
0,     // 5V
0,     // 6V
0,     // 7V
0,     // 8V
0,     // 9V
0,     // 10V
0,     // 11V
0,     // 12V
0,     // 13V
0,     // 14V
0,     // 15V
0,     // 16V
0,     // 17V
0,     // 18V
20,     // 19V
21,     // 20V
22,     // 21V
23,     // 22V
24,     // 23V
25,     // 24V
26,     // 25V
27,     // 26V
28,     // 27V
29,     // 28V
30,     // 29V
31,     // 30V
32,     // 31V
33,     // 32V
41,     // 33V
43,     // 34V
44,     // 35V
53,     // 36V
54,     // 37V
63,     // 38V
65,     // 39V
75,     // 40V
77,     // 41V
88,     // 42V
90,     // 43V
92,     // 44V
94,     // 45V
96,     // 46V
98,     // 47V
100,     // 48V
100,     // 49V
100,     // 50V
100,     // 51V
100,     // 52V
100,     // 53V
100,     // 54V
100,     // 55V
100,     // 56V
100,     // 57V
100,     // 58V
100,     // 59V
100,     // 60V
100,     // 61V
100,     // 62V
100,     // 63V
100,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_ENERGY_OPTIMIZATION_2

0,     // 0V
0,     // 1V
0,     // 2V
0,     // 3V
0,     // 4V
0,     // 5V
0,     // 6V
0,     // 7V
0,     // 8V
0,     // 9V
0,     // 10V
0,     // 11V
0,     // 12V
0,     // 13V
0,     // 14V
0,     // 15V
0,     // 16V
0,     // 17V
0,     // 18V
0,     // 19V
0,     // 20V
0,     // 21V
0,     // 22V
0,     // 23V
0,     // 24V
0,     // 25V
0,     // 26V
0,     // 27V
0,     // 28V
0,     // 29V
0,     // 30V
0,     // 31V
0,     // 32V
0,     // 33V
0,     // 34V
0,     // 35V
0,     // 36V
25,     // 37V
30,     // 38V
35,     // 39V
40,     // 40V
45,     // 41V
50,     // 42V
55,     // 43V
60,     // 44V
65,     // 45V
70,     // 46V
75,     // 47V
80,     // 48V
85,     // 49V
90,     // 50V
95,     // 51V
100,     // 52V
100,     // 53V
100,     // 54V
100,     // 55V
100,     // 56V
100,     // 57V
100,     // 58V
100,     // 59V
100,     // 60V
100,     // 61V
100,     // 62V
100,     // 63V
100,     // 64V
100,     // 65V
100,     // 66V
100,     // 67V
100,     // 68V
100,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_STEEP_TUNING_TABLE

0,     // 0V
0,     // 1V
0,     // 2V
0,     // 3V
0,     // 4V
0,     // 5V
0,     // 6V
0,     // 7V
0,     // 8V
0,     // 9V
0,     // 10V
0,     // 11V
0,     // 12V
0,     // 13V
0,     // 14V
0,     // 15V
0,     // 16V
0,     // 17V
0,     // 18V
0,     // 19V
0,     // 20V
0,     // 21V
0,     // 22V
0,     // 23V
0,     // 24V
0,     // 25V
0,     // 26V
0,     // 27V
0,     // 28V
0,     // 29V
0,     // 30V
0,     // 31V
0,     // 32V
0,     // 33V
0,     // 34V
0,     // 35V
0,     // 36V
0,     // 37V
0,     // 38V
0,     // 39V
0,     // 40V
0,     // 41V
0,     // 42V
0,     // 43V
5,     // 44V
9,     // 45V
12,     // 46V
16,     // 47V
20,     // 48V
23,     // 49V
27,     // 50V
31,     // 51V
34,     // 52V
38,     // 53V
42,     // 54V
45,     // 55V
49,     // 56V
53,     // 57V
56,     // 58V
60,     // 59V
63,     // 60V
67,     // 61V
71,     // 62V
74,     // 63V
78,     // 64V
82,     // 65V
85,     // 66V
89,     // 67V
93,     // 68V
96,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_GENTLE_TUNING_TABLE

0,     // 0V
0,     // 1V
0,     // 2V
0,     // 3V
0,     // 4V
0,     // 5V
0,     // 6V
0,     // 7V
0,     // 8V
0,     // 9V
0,     // 10V
0,     // 11V
0,     // 12V
0,     // 13V
0,     // 14V
0,     // 15V
0,     // 16V
0,     // 17V
0,     // 18V
0,     // 19V
0,     // 20V
0,     // 21V
0,     // 22V
0,     // 23V
0,     // 24V
0,     // 25V
0,     // 26V
0,     // 27V
0,     // 28V
0,     // 29V
0,     // 30V
0,     // 31V
0,     // 32V
0,     // 33V
0,     // 34V
0,     // 35V
0,     // 36V
5,     // 37V
8,     // 38V
11,     // 39V
14,     // 40V
17,     // 41V
19,     // 42V
22,     // 43V
25,     // 44V
28,     // 45V
31,     // 46V
34,     // 47V
37,     // 48V
40,     // 49V
42,     // 50V
45,     // 51V
48,     // 52V
51,     // 53V
54,     // 54V
57,     // 55V
60,     // 56V
63,     // 57V
65,     // 58V
68,     // 59V
71,     // 60V
74,     // 61V
77,     // 62V
80,     // 63V
83,     // 64V
86,     // 65V
88,     // 66V
91,     // 67V
94,     // 68V
97,     // 69V
100,     // 70V
100,     // 71V
100,     // 72V
100,     // 73V
100,     // 74V
100,     // 75V
100,     // 76V
100,     // 77V
100,     // 78V
100,     // 79V
100,     // 80V
100,     // 81V
100,     // 82V
100,     // 83V
100,     // 84V
100,     // 85V
100,     // 86V
100,     // 87V
100,     // 88V
100,     // 89V
100,     // 90V
100,     // 91V
100,     // 92V

#endif

#ifdef PHP_SMOOTH_TUNING_TABLE

0,     // 0V
0,     // 1V
0,     // 2V
0,     // 3V
0,     // 4V
0,     // 5V
0,     // 6V
0,     // 7V
0,     // 8V
0,     // 9V
0,     // 10V
0,     // 11V
0,     // 12V
0,     // 13V
0,     // 14V
0,     // 15V
0,     // 16V
0,     // 17V
0,     // 18V
0,     // 19V
0,     // 20V
0,     // 21V
0,     // 22V
0,     // 23V
0,     // 24V
0,     // 25V
0,     // 26V
0,     // 27V
0,     // 28V
0,     // 29V
0,     // 30V
0,     // 31V
0,     // 32V
0,     // 33V
0,     // 34V
0,     // 35V
0,     // 36V
5,     // 37V
7,     // 38V
8,     // 39V
10,     // 40V
12,     // 41V
14,     // 42V
15,     // 43V
17,     // 44V
19,     // 45V
21,     // 46V
22,     // 47V
24,     // 48V
26,     // 49V
27,     // 50V
29,     // 51V
31,     // 52V
33,     // 53V
34,     // 54V
36,     // 55V
38,     // 56V
40,     // 57V
41,     // 58V
43,     // 59V
45,     // 60V
46,     // 61V
48,     // 62V
50,     // 63V
52,     // 64V
53,     // 65V
55,     // 66V
57,     // 67V
59,     // 68V
60,     // 69V
62,     // 70V
64,     // 71V
65,     // 72V
67,     // 73V
69,     // 74V
71,     // 75V
72,     // 76V
74,     // 77V
76,     // 78V
78,     // 79V
79,     // 80V
81,     // 81V
83,     // 82V
84,     // 83V
86,     // 84V
88,     // 85V
90,     // 86V
91,     // 87V
93,     // 88V
95,     // 89V
97,     // 90V
98,     // 91V
100,    // 92V

#endif

};

/*
const uint8_t door_heater_duty_lookup_table[DOOR_HEATER_DUTY_LOOKUP_TABLE_SIZE] = {
	100,     // 2C
	100,     // 2.5C
	100,     // 3C
	90,      // 3.5C
	80,      // 4C
	70,      // 4.5C
	60,      // 5C
	50,      // 5.5C
	40,      // 6C
	30,      // 6.5C
	20,      // 7C
	10,      // 7.5C
	0,       // 8C
};
*/

const uint8_t door_heater_duty_lookup_table[DOOR_HEATER_DUTY_LOOKUP_TABLE_SIZE] = {
	50,      // 2C
	50,      // 2.5C
	50,      // 3C
	45,      // 3.5C
	40,      // 4C
	35,      // 4.5C
	30,      // 5C
	25,      // 5.5C
	20,      // 6C
	15,      // 6.5C
	10,      // 7C
	5,       // 7.5C
	0,       // 8C
};

const float setpoint_power_adjust_offset_table[SP_PWR_ADJ_OFFSET_LOOKUP_TABLE_SIZE] = {
	0.0,    // 2C
	0.0,    // 2.5C
	0.0,    // 3C
	0.0,    // 3.5C
	0.0,    // 4C
	0.0,    // 4.5C
	0.0,    // 5C
	0.0,    // 5.5C
	0.0,    // 6C
	0.0,    // 6.5C
	0.0,    // 7C
	0.0,    // 7.5C
	0.0,    // 8C
};

 const uint16_t fan_sanyo_9s0912p4f011_rpm_lookup_table[FAN_RPM_LOOKUP_TABLE_SIZE] = {	
900,     // 0% duty
900,     // 1% duty
900,     // 2% duty
900,     // 3% duty
900,     // 4% duty
900,     // 5% duty
900,     // 6% duty
900,     // 7% duty
900,     // 8% duty
900,     // 9% duty
900,     // 10% duty
900,     // 11% duty
900,     // 12% duty
900,     // 13% duty
900,     // 14% duty
900,     // 15% duty
900,     // 16% duty
900,     // 17% duty
900,     // 18% duty
900,     // 19% duty
900,     // 20% duty
924,     // 21% duty
948,     // 22% duty
971,     // 23% duty
995,     // 24% duty
1019,     // 25% duty
1043,     // 26% duty
1066,     // 27% duty
1090,     // 28% duty
1114,     // 29% duty
1138,     // 30% duty
1161,     // 31% duty
1185,     // 32% duty
1209,     // 33% duty
1233,     // 34% duty
1256,     // 35% duty
1280,     // 36% duty
1304,     // 37% duty
1328,     // 38% duty
1351,     // 39% duty
1375,     // 40% duty
1411,     // 41% duty
1446,     // 42% duty
1482,     // 43% duty
1518,     // 44% duty
1554,     // 45% duty
1589,     // 46% duty
1625,     // 47% duty
1661,     // 48% duty
1696,     // 49% duty
1732,     // 50% duty
1768,     // 51% duty
1804,     // 52% duty
1839,     // 53% duty
1875,     // 54% duty
1911,     // 55% duty
1946,     // 56% duty
1982,     // 57% duty
2018,     // 58% duty
2054,     // 59% duty
2089,     // 60% duty
2125,     // 61% duty
2144,     // 62% duty
2164,     // 63% duty
2183,     // 64% duty
2203,     // 65% duty
2222,     // 66% duty
2242,     // 67% duty
2261,     // 68% duty
2281,     // 69% duty
2300,     // 70% duty
2319,     // 71% duty
2339,     // 72% duty
2358,     // 73% duty
2378,     // 74% duty
2397,     // 75% duty
2417,     // 76% duty
2436,     // 77% duty
2456,     // 78% duty
2475,     // 79% duty
2494,     // 80% duty
2514,     // 81% duty
2533,     // 82% duty
2553,     // 83% duty
2572,     // 84% duty
2592,     // 85% duty
2611,     // 86% duty
2631,     // 87% duty
2650,     // 88% duty
2650,     // 89% duty
2650,     // 90% duty
2650,     // 91% duty
2650,     // 92% duty
2650,     // 93% duty
2650,     // 94% duty
2650,     // 95% duty
2650,     // 96% duty
2650,     // 97% duty
2650,     // 98% duty
2650,     // 99% duty
2650,     // 100% duty
};
 
 const uint16_t fan_sanyo_9ga0912p4g03_rpm_lookup_table[FAN_RPM_LOOKUP_TABLE_SIZE] = {
1500,     // 0% duty
1542,     // 1% duty
1583,     // 2% duty
1625,     // 3% duty
1667,     // 4% duty
1708,     // 5% duty
1750,     // 6% duty
1792,     // 7% duty
1833,     // 8% duty
1875,     // 9% duty
1917,     // 10% duty
1958,     // 11% duty
2000,     // 12% duty
2042,     // 13% duty
2083,     // 14% duty
2125,     // 15% duty
2167,     // 16% duty
2208,     // 17% duty
2250,     // 18% duty
2279,     // 19% duty
2308,     // 20% duty
2338,     // 21% duty
2367,     // 22% duty
2396,     // 23% duty
2425,     // 24% duty
2454,     // 25% duty
2483,     // 26% duty
2513,     // 27% duty
2542,     // 28% duty
2571,     // 29% duty
2600,     // 30% duty
2629,     // 31% duty
2658,     // 32% duty
2688,     // 33% duty
2717,     // 34% duty
2746,     // 35% duty
2775,     // 36% duty
2804,     // 37% duty
2833,     // 38% duty
2863,     // 39% duty
2892,     // 40% duty
2921,     // 41% duty
2950,     // 42% duty
2979,     // 43% duty
3008,     // 44% duty
3038,     // 45% duty
3067,     // 46% duty
3096,     // 47% duty
3125,     // 48% duty
3154,     // 49% duty
3183,     // 50% duty
3212,     // 51% duty
3242,     // 52% duty
3271,     // 53% duty
3300,     // 54% duty
3329,     // 55% duty
3358,     // 56% duty
3387,     // 57% duty
3417,     // 58% duty
3446,     // 59% duty
3475,     // 60% duty
3504,     // 61% duty
3533,     // 62% duty
3562,     // 63% duty
3592,     // 64% duty
3621,     // 65% duty
3650,     // 66% duty
3679,     // 67% duty
3708,     // 68% duty
3737,     // 69% duty
3767,     // 70% duty
3796,     // 71% duty
3825,     // 72% duty
3854,     // 73% duty
3883,     // 74% duty
3912,     // 75% duty
3942,     // 76% duty
3971,     // 77% duty
4000,     // 78% duty
4018,     // 79% duty
4036,     // 80% duty
4055,     // 81% duty
4073,     // 82% duty
4091,     // 83% duty
4109,     // 84% duty
4127,     // 85% duty
4145,     // 86% duty
4164,     // 87% duty
4182,     // 88% duty
4200,     // 89% duty
4218,     // 90% duty
4236,     // 91% duty
4255,     // 92% duty
4273,     // 93% duty
4291,     // 94% duty
4309,     // 95% duty
4327,     // 96% duty
4345,     // 97% duty
4364,     // 98% duty
4382,     // 99% duty
4400,     // 100% duty
};

 const uint16_t fan_sanyo_9ga0912p4j03_rpm_lookup_table[FAN_RPM_LOOKUP_TABLE_SIZE] = {
1500,     // 0% duty
1547,     // 1% duty
1593,     // 2% duty
1640,     // 3% duty
1686,     // 4% duty
1733,     // 5% duty
1780,     // 6% duty
1826,     // 7% duty
1873,     // 8% duty
1920,     // 9% duty
1966,     // 10% duty
2013,     // 11% duty
2059,     // 12% duty
2106,     // 13% duty
2153,     // 14% duty
2199,     // 15% duty
2246,     // 16% duty
2293,     // 17% duty
2339,     // 18% duty
2386,     // 19% duty
2432,     // 20% duty
2479,     // 21% duty
2526,     // 22% duty
2572,     // 23% duty
2619,     // 24% duty
2665,     // 25% duty
2712,     // 26% duty
2759,     // 27% duty
2805,     // 28% duty
2852,     // 29% duty
2899,     // 30% duty
2945,     // 31% duty
2992,     // 32% duty
3038,     // 33% duty
3085,     // 34% duty
3120,     // 35% duty
3155,     // 36% duty
3189,     // 37% duty
3224,     // 38% duty
3259,     // 39% duty
3294,     // 40% duty
3329,     // 41% duty
3363,     // 42% duty
3398,     // 43% duty
3433,     // 44% duty
3468,     // 45% duty
3502,     // 46% duty
3537,     // 47% duty
3572,     // 48% duty
3607,     // 49% duty
3642,     // 50% duty
3676,     // 51% duty
3711,     // 52% duty
3746,     // 53% duty
3781,     // 54% duty
3816,     // 55% duty
3850,     // 56% duty
3885,     // 57% duty
3920,     // 58% duty
3955,     // 59% duty
3989,     // 60% duty
4024,     // 61% duty
4059,     // 62% duty
4086,     // 63% duty
4113,     // 64% duty
4140,     // 65% duty
4167,     // 66% duty
4194,     // 67% duty
4221,     // 68% duty
4248,     // 69% duty
4275,     // 70% duty
4302,     // 71% duty
4329,     // 72% duty
4356,     // 73% duty
4383,     // 74% duty
4411,     // 75% duty
4438,     // 76% duty
4465,     // 77% duty
4492,     // 78% duty
4519,     // 79% duty
4546,     // 80% duty
4573,     // 81% duty
4600,     // 82% duty
4627,     // 83% duty
4654,     // 84% duty
4681,     // 85% duty
4708,     // 86% duty
4735,     // 87% duty
4755,     // 88% duty
4776,     // 89% duty
4796,     // 90% duty
4817,     // 91% duty
4837,     // 92% duty
4857,     // 93% duty
4878,     // 94% duty
4898,     // 95% duty
4918,     // 96% duty
4939,     // 97% duty
4959,     // 98% duty
4980,     // 99% duty
5000,     // 100% duty
};

 const uint16_t fan_nidec_v12e12bmm9_rpm_lookup_table[FAN_RPM_LOOKUP_TABLE_SIZE] = {
	 900,     // 0% duty
	 900,     // 1% duty
	 900,     // 2% duty
	 900,     // 3% duty
	 900,     // 4% duty
	 900,     // 5% duty
	 900,     // 6% duty
	 900,     // 7% duty
	 900,     // 8% duty
	 900,     // 9% duty
	 900,     // 10% duty
	 900,     // 11% duty
	 900,     // 12% duty
	 900,     // 13% duty
	 900,     // 14% duty
	 900,     // 15% duty
	 900,     // 16% duty
	 900,     // 17% duty
	 900,     // 18% duty
	 900,     // 19% duty
	 900,     // 20% duty
	 924,     // 21% duty
	 948,     // 22% duty
	 971,     // 23% duty
	 995,     // 24% duty
	 1019,     // 25% duty
	 1043,     // 26% duty
	 1066,     // 27% duty
	 1090,     // 28% duty
	 1114,     // 29% duty
	 1138,     // 30% duty
	 1161,     // 31% duty
	 1185,     // 32% duty
	 1209,     // 33% duty
	 1233,     // 34% duty
	 1256,     // 35% duty
	 1280,     // 36% duty
	 1304,     // 37% duty
	 1328,     // 38% duty
	 1351,     // 39% duty
	 1375,     // 40% duty
	 1411,     // 41% duty
	 1446,     // 42% duty
	 1482,     // 43% duty
	 1518,     // 44% duty
	 1554,     // 45% duty
	 1589,     // 46% duty
	 1625,     // 47% duty
	 1661,     // 48% duty
	 1696,     // 49% duty
	 1732,     // 50% duty
	 1768,     // 51% duty
	 1804,     // 52% duty
	 1839,     // 53% duty
	 1875,     // 54% duty
	 1911,     // 55% duty
	 1946,     // 56% duty
	 1982,     // 57% duty
	 2018,     // 58% duty
	 2054,     // 59% duty
	 2089,     // 60% duty
	 2125,     // 61% duty
	 2144,     // 62% duty
	 2164,     // 63% duty
	 2183,     // 64% duty
	 2203,     // 65% duty
	 2222,     // 66% duty
	 2242,     // 67% duty
	 2261,     // 68% duty
	 2281,     // 69% duty
	 2300,     // 70% duty
	 2319,     // 71% duty
	 2339,     // 72% duty
	 2358,     // 73% duty
	 2378,     // 74% duty
	 2397,     // 75% duty
	 2417,     // 76% duty
	 2436,     // 77% duty
	 2456,     // 78% duty
	 2475,     // 79% duty
	 2494,     // 80% duty
	 2514,     // 81% duty
	 2533,     // 82% duty
	 2553,     // 83% duty
	 2572,     // 84% duty
	 2592,     // 85% duty
	 2611,     // 86% duty
	 2631,     // 87% duty
	 2650,     // 88% duty
	 2650,     // 89% duty
	 2650,     // 90% duty
	 2650,     // 91% duty
	 2650,     // 92% duty
	 2650,     // 93% duty
	 2650,     // 94% duty
	 2650,     // 95% duty
	 2650,     // 96% duty
	 2650,     // 97% duty
	 2650,     // 98% duty
	 2650,     // 99% duty
	 2650,     // 100% duty
 };
  
 const uint8_t fan_limit_table[8][17] = { 	 
{  100,      45,     40,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      2,     },  // fan1
{  100,      45,     40,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      4,     },  // fan2
{  100,      45,     40,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      4,     },  // fan3
{  100,      45,     40,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      2,     },  // fan4
{  100,      45,     40,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      4,     },  // fan5
{  100,      45,     40,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      4,     },  // fan6
{  100,      45,     40,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      4,     },  // fan7
{  100,      45,     40,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      0,     0,     100,      4,     },  // fan8
}; // spd1  lim1p lim1  spd2  lim2p lim2  spd3  lim3p lim3  spd4  lim4p lim4  spd5  lim5p lim5  spd6  k





